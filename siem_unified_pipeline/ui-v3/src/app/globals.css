@import url("../styles/tokens.css");
@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

/* Base layer uses tokens; variables come from tokens.css */
@layer base {
  * { border-color: hsl(var(--border)); }
  html { color-scheme: light dark; }
  body { background-color: hsl(var(--background)); color: hsl(var(--foreground)); font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; font-feature-settings: "rlig" 1, "calt" 1; line-height: 1.5; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
  :focus-visible { outline: none; box-shadow: 0 0 0 3px hsl(var(--ring) / .45); transition: box-shadow var(--dur-base); }
}



:root {
  --sidebar: hsl(0 0% 98%);
  --sidebar-foreground: hsl(240 5.3% 26.1%);
  --sidebar-primary: hsl(240 5.9% 10%);
  --sidebar-primary-foreground: hsl(0 0% 98%);
  --sidebar-accent: hsl(240 4.8% 95.9%);
  --sidebar-accent-foreground: hsl(240 5.9% 10%);
  --sidebar-border: hsl(220 13% 91%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

.dark {
  --sidebar: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

@theme inline {
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer utilities {
  .elev-1 { box-shadow: var(--elev-1); }
  .elev-2 { box-shadow: var(--elev-2); }
  .severity { @apply inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium; }
  .severity[data-level="critical"] { background-color: hsl(var(--sev-critical) / .15); color: hsl(var(--sev-critical)); }
  .severity[data-level="high"]     { background-color: hsl(var(--sev-high) / .15);     color: hsl(var(--sev-high)); }
  .severity[data-level="medium"]   { background-color: hsl(var(--sev-medium) / .18);   color: hsl(var(--sev-medium)); }
  .severity[data-level="low"]      { background-color: hsl(var(--sev-low) / .18);      color: hsl(var(--sev-low)); }
  .status-ok   { color: hsl(var(--status-ok)); }
  .status-warn { color: hsl(var(--status-warn)); }
  .status-bad  { color: hsl(var(--status-bad)); }
}
