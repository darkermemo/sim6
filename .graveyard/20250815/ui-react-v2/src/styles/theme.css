/**
 * Battle-tested Dark Theming Strategy
 * Based on Radix Colors with semantic tokens
 * Accessible contrast ratios (WCAG AA: 4.5:1 body text, 3:1 UI text)
 */

@layer tokens;

:root {
  /* === SURFACE COLORS === */
  --bg: hsl(0 0% 100%);                    /* Main background */
  --card: hsl(0 0% 100%);                  /* Card/panel backgrounds */
  --muted: hsl(210 20% 98%);               /* Muted/secondary surfaces */
  --accent: hsl(210 40% 96%);              /* Accent surfaces */
  --surface: hsl(0 0% 100%);               /* Interactive surfaces */
  
  /* === TEXT COLORS === */
  --fg: hsl(222 47% 11%);                  /* Primary text (4.5:1 contrast) */
  --fg-muted: hsl(215 16% 35%);            /* Secondary text (4.5:1 contrast) */
  --fg-subtle: hsl(215 16% 40%);           /* Tertiary text (3:1+ contrast) - FIXED */
  --fg-accent: hsl(206 100% 50%);          /* Accent text */
  --fg-on-accent: hsl(0 0% 100%);          /* Text on accent backgrounds */
  
  /* === BRAND/ACCENT COLORS (Radix Blue) === */
  --accent-1: hsl(210 100% 99%);           /* Lightest accent */
  --accent-2: hsl(210 100% 97%);
  --accent-3: hsl(210 100% 95%);
  --accent-4: hsl(210 92% 92%);
  --accent-5: hsl(210 86% 88%);
  --accent-6: hsl(208 82% 82%);
  --accent-7: hsl(206 81% 74%);
  --accent-8: hsl(206 85% 64%);
  --accent-9: hsl(206 100% 40%);           /* Primary accent - FIXED for better button contrast */
  --accent-10: hsl(210 100% 36%);          /* Darker accent */
  --accent-11: hsl(211 100% 43%);          /* Text accent */
  --accent-12: hsl(214 100% 21%);          /* Darkest accent */
  
  /* === SEMANTIC COLORS === */
  /* Success (Radix Green) */
  --success: hsl(131 41% 46%);
  --success-bg: hsl(130 40% 98%);
  --success-border: hsl(132 43% 79%);
  
  /* Warning (Radix Amber) */
  --warning: hsl(35 91% 48%);
  --warning-bg: hsl(39 100% 97%);
  --warning-border: hsl(40 84% 78%);
  
  /* Error/Destructive (Radix Red) */
  --destructive: hsl(358 75% 59%);
  --destructive-bg: hsl(359 100% 97%);
  --destructive-border: hsl(359 85% 78%);
  
  /* === BORDERS & SEPARATORS === */
  --border: hsl(214 32% 70%);              /* Default borders - FIXED for 3:1 contrast */
  --border-muted: hsl(210 18% 87%);        /* Subtle borders */
  --border-strong: hsl(215 25% 40%);       /* Emphasized borders - FIXED for 3:1 contrast */
  
  /* === FOCUS & INTERACTION === */
  --ring: hsl(206 100% 50% / 40%);         /* Focus rings */
  --ring-offset: hsl(0 0% 100%);           /* Focus ring offset */
  
  /* === SHADOWS === */
  --shadow-1: 0 1px 2px hsl(0 0% 0% / 0.05);
  --shadow-2: 0 1px 3px hsl(0 0% 0% / 0.1), 0 1px 2px hsl(0 0% 0% / 0.06);
  --shadow-3: 0 4px 6px hsl(0 0% 0% / 0.07), 0 2px 4px hsl(0 0% 0% / 0.06);
  --shadow-4: 0 10px 15px hsl(0 0% 0% / 0.1), 0 4px 6px hsl(0 0% 0% / 0.05);
  --shadow-5: 0 20px 25px hsl(0 0% 0% / 0.1), 0 10px 10px hsl(0 0% 0% / 0.04);
}

/* === DARK THEME === */
.dark {
  /* === SURFACE COLORS === */
  --bg: hsl(222 30% 7%);                   /* Main background */
  --card: hsl(222 30% 9%);                 /* Card/panel backgrounds */
  --muted: hsl(223 28% 12%);               /* Muted/secondary surfaces */
  --accent: hsl(215 25% 13%);              /* Accent surfaces */
  --surface: hsl(222 30% 9%);              /* Interactive surfaces */
  
  /* === TEXT COLORS === */
  --fg: hsl(210 40% 96%);                  /* Primary text (4.5:1 contrast) */
  --fg-muted: hsl(215 20% 65%);            /* Secondary text (4.5:1 contrast) */
  --fg-subtle: hsl(215 16% 50%);           /* Tertiary text (3:1 contrast) */
  --fg-accent: hsl(206 100% 50%);          /* Accent text */
  --fg-on-accent: hsl(0 0% 100%);          /* Text on accent backgrounds */
  
  /* === BRAND/ACCENT COLORS (Radix Blue Dark) === */
  --accent-1: hsl(213 25% 13%);            /* Darkest accent */
  --accent-2: hsl(212 33% 15%);
  --accent-3: hsl(211 42% 19%);
  --accent-4: hsl(211 49% 22%);
  --accent-5: hsl(210 55% 25%);
  --accent-6: hsl(209 62% 29%);
  --accent-7: hsl(208 69% 35%);
  --accent-8: hsl(207 78% 42%);
  --accent-9: hsl(206 100% 50%);           /* Primary accent (same as light) */
  --accent-10: hsl(210 100% 66%);          /* Lighter accent */
  --accent-11: hsl(211 100% 73%);          /* Text accent */
  --accent-12: hsl(206 98% 95%);           /* Lightest accent */
  
  /* === SEMANTIC COLORS === */
  /* Success (Radix Green Dark) */
  --success: hsl(131 34% 55%);
  --success-bg: hsl(133 50% 10%);
  --success-border: hsl(132 43% 17%);
  
  /* Warning (Radix Amber Dark) */
  --warning: hsl(35 100% 55%);
  --warning-bg: hsl(39 85% 8%);
  --warning-border: hsl(40 84% 14%);
  
  /* Error/Destructive (Radix Red Dark) */
  --destructive: hsl(358 65% 64%);
  --destructive-bg: hsl(359 85% 8%);
  --destructive-border: hsl(359 85% 15%);
  
  /* === BORDERS & SEPARATORS === */
  --border: hsl(215 20% 35%);              /* Default borders - FIXED for 3:1 contrast in dark */
  --border-muted: hsl(215 16% 14%);        /* Subtle borders */
  --border-strong: hsl(215 25% 50%);       /* Emphasized borders */
  
  /* === FOCUS & INTERACTION === */
  --ring: hsl(206 100% 50% / 55%);         /* Focus rings (higher opacity for dark) */
  --ring-offset: hsl(222 30% 7%);          /* Focus ring offset */
  
  /* === SHADOWS === */
  --shadow-1: 0 1px 2px hsl(0 0% 0% / 0.3);
  --shadow-2: 0 1px 3px hsl(0 0% 0% / 0.4), 0 1px 2px hsl(0 0% 0% / 0.3);
  --shadow-3: 0 4px 6px hsl(0 0% 0% / 0.35), 0 2px 4px hsl(0 0% 0% / 0.3);
  --shadow-4: 0 10px 15px hsl(0 0% 0% / 0.4), 0 4px 6px hsl(0 0% 0% / 0.25);
  --shadow-5: 0 20px 25px hsl(0 0% 0% / 0.4), 0 10px 10px hsl(0 0% 0% / 0.2);
}

/* === HIGH CONTRAST MODE === */
@media (prefers-contrast: high) {
  :root {
    --border: hsl(0 0% 0%);
    --border-strong: hsl(0 0% 0%);
    --fg-muted: hsl(0 0% 0%);
    --bg: hsl(0 0% 100%);
  }
  
  .dark {
    --border: hsl(0 0% 100%);
    --border-strong: hsl(0 0% 100%);
    --fg-muted: hsl(0 0% 100%);
    --bg: hsl(0 0% 0%);
  }
}

/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
  :root {
    --transition-fast: none;
    --transition-normal: none;
    --transition-slow: none;
  }
}

/* === CHART COLORS === */
:root {
  --chart-1: var(--accent-9);
  --chart-2: hsl(173 58% 39%);             /* Teal */
  --chart-3: hsl(197 37% 24%);             /* Blue-gray */
  --chart-4: hsl(43 74% 66%);              /* Yellow */
  --chart-5: hsl(27 87% 67%);              /* Orange */
  --chart-6: hsl(315 44% 55%);             /* Purple */
  --chart-7: hsl(79 46% 64%);              /* Green */
  --chart-8: hsl(346 77% 49%);             /* Pink */
}

.dark {
  --chart-1: var(--accent-9);
  --chart-2: hsl(173 58% 59%);             /* Teal (lighter) */
  --chart-3: hsl(197 37% 44%);             /* Blue-gray (lighter) */
  --chart-4: hsl(43 74% 76%);              /* Yellow (lighter) */
  --chart-5: hsl(27 87% 77%);              /* Orange (lighter) */
  --chart-6: hsl(315 44% 65%);             /* Purple (lighter) */
  --chart-7: hsl(79 46% 74%);              /* Green (lighter) */
  --chart-8: hsl(346 77% 59%);             /* Pink (lighter) */
}

/* === SPACING SCALE === */
:root {
  --space-0: 0px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;
  --space-20: 80px;
  --space-24: 96px;
}

/* === RADIUS SCALE === */
:root {
  --radius-0: 0px;
  --radius-1: 2px;
  --radius-2: 4px;
  --radius-3: 6px;
  --radius-4: 8px;
  --radius-6: 12px;
  --radius-8: 16px;
  --radius-full: 9999px;
}

/* === TYPOGRAPHY === */
:root {
  --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  --font-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
  
  --text-xs: 12px;
  --text-sm: 14px;
  --text-base: 16px;
  --text-lg: 18px;
  --text-xl: 20px;
  --text-2xl: 24px;
  --text-3xl: 30px;
  --text-4xl: 36px;
  
  --line-tight: 1.25;
  --line-snug: 1.375;
  --line-normal: 1.5;
  --line-relaxed: 1.625;
  --line-loose: 2;
}
